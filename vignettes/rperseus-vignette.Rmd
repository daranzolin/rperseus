---
title: "rperseus Vignette"
author: "David Ranzolin"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

### Introduction

The workhorse of `rperseus` is `get_perseus_text`. You can pass three arguments to his function: `urn`, `language`, and `text`. `language` defaults to "eng" (English) and the `text` argument defaults to `NULL`. URNs (Uniform Resource Number) can be located within the `perseus_catalog` object, which is lazily loaded on `library(rperseus)`. I recommend scanning the catalog before selecting a text.

```{r}
library(rperseus)
head(perseus_catalog)
```

A snapshot of available authors:

```{r warning=FALSE, message=FALSE}
library(tidyverse)
count(perseus_catalog, groupname, sort = TRUE)
```

### Getting a Text

Once you've identified the relevant urn, paste it into a call to `get_perseus_text`. Pay attention to the `language` argument. English translations are not always available. Here I've called for the Greek text of Plutarch's *Romulus*:

```{r}
romulus <- get_perseus_text(urn = "urn:cts:greekLit:tlg0007.tlg002", language = "grc")
romulus$text[1]
```

### Precision Querying

It's possible to query specific pericopes of a text, but the index scheme is someone unpredictable. Here I indicate I want the opening line of Virgil's *Aeneid*:

```{r}
aeneid <- perseus_catalog %>% 
  filter(groupname == "Virgil",
         label == "Aeneid") %>% 
  .$urn %>% 
  get_perseus_text(language = "lat", text = "1.1")
aeneid$text
```

You may need to [refer to the website for a specific indexing scheme.](http://cts.perseids.org/read/latinLit/phi0690/phi003/perseus-lat2)

### Getting a Group of Texts

You can collect all of Aristotle's available works with the `tidyverse:`

```{r eval = FALSE}
aristotle <- perseus_catalog %>% 
  filter(groupname == "Aristotle") %>% 
  pull(urn) %>% 
  map_df(get_perseus_text, "grc")
```




